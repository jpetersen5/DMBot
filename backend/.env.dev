FLASK_APP=app.py
FLASK_ENV=development

ALLOWED_ORIGINS=http://localhost:3000

SECRET_KEY=debc24f7fb8891ed1c702e69dcf8c7d9
JWT_SECRET=6abdf643f496bc7071418bd001089040232cbadbc356fddad978c5504e822ba3

SUPABASE_URL=https://tczhxtrzfaqgsjoudhoi.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRjemh4dHJ6ZmFxZ3Nqb3VkaG9pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTk0NTIxNTcsImV4cCI6MjAzNTAyODE1N30.zJsob6UYzFl7H6nb8K33_Fh2JqnCBNzNN3bsKyZPMEw
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRjemh4dHJ6ZmFxZ3Nqb3VkaG9pIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTcxOTQ1MjE1NywiZXhwIjoyMDM1MDI4MTU3fQ.y_-a39bkoE7bwNZnJGgwijCyWSxY7B7cz7Mn6IXzhnA

DISCORD_CLIENT_ID=1230729896393703425
DISCORD_CLIENT_SECRET=-5nbAZ98ePO6m0LUcKdi_4og_W_15d1o
DISCORD_REDIRECT_URI=http://localhost:5000/api/auth/callback
FRONTEND_URL=http://localhost:3000

REDIS_URL=redis://redis:6379

UPLOAD_FOLDER=uploads


PROCESS_SONGS_SCRIPT=CmltcG9ydCBzdHJ1Y3QKaW1wb3J0IGxvZ2dpbmcKCmRlZiByZWFkX2ludChmaWxlKToKICAgIGRhdGEgPSBmaWxlLnJlYWQoNCkKICAgIGlmIGxlbihkYXRhKSA8IDQ6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiSW5zdWZmaWNpZW50IGRhdGEgdG8gcmVhZCBpbnRlZ2VyIikKICAgIHJldHVybiBzdHJ1Y3QudW5wYWNrKCJJIiwgZGF0YSlbMF0KCmRlZiByZWFkX2J5dGVzKGZpbGUsIGxlbmd0aCk6CiAgICBkYXRhID0gZmlsZS5yZWFkKGxlbmd0aCkKICAgIGlmIGxlbihkYXRhKSA8IGxlbmd0aDoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiSW5zdWZmaWNpZW50IGRhdGE6IGV4cGVjdGVkIHtsZW5ndGh9IGJ5dGVzLCBnb3Qge2xlbihkYXRhKX0iKQogICAgcmV0dXJuIGRhdGEKCmRlZiByZWFkX2J5dGUoZmlsZSk6CiAgICBkYXRhID0gZmlsZS5yZWFkKDEpCiAgICBpZiBsZW4oZGF0YSkgPCAxOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIkluc3VmZmljaWVudCBkYXRhIHRvIHJlYWQgYnl0ZSIpCiAgICByZXR1cm4gc3RydWN0LnVucGFjaygiQiIsIGRhdGEpWzBdCgpkZWYgcmVhZF91c2hvcnQoZmlsZSk6CiAgICBkYXRhID0gZmlsZS5yZWFkKDIpCiAgICBpZiBsZW4oZGF0YSkgPCAyOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIkluc3VmZmljaWVudCBkYXRhIHRvIHJlYWQgdW5zaWduZWQgc2hvcnQiKQogICAgcmV0dXJuIHN0cnVjdC51bnBhY2soIkgiLCBkYXRhKVswXQoKZGVmIGJ5dGVzX3RvX2hleChieXRlc19kYXRhKToKICAgIHJldHVybiAiIi5qb2luKGYie2J5dGU6MDJ4fSIgZm9yIGJ5dGUgaW4gYnl0ZXNfZGF0YSkKCmRlZiBwYXJzZV9zY29yZV9kYXRhKGZpbGVfb2JqZWN0KToKICAgIHRyeToKICAgICAgICB2ZXJzaW9uID0gcmVhZF9pbnQoZmlsZV9vYmplY3QpCiAgICAgICAgc29uZ19jb3VudCA9IHJlYWRfaW50KGZpbGVfb2JqZWN0KQogICAgICAgIHVua25vd25fZGF0YSA9IHJlYWRfYnl0ZXMoZmlsZV9vYmplY3QsIDM2KQoKICAgICAgICBzb25nc19pbmZvID0gW10KCiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc29uZ19jb3VudCk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGlkZW50aWZpZXIgPSBieXRlc190b19oZXgocmVhZF9ieXRlcyhmaWxlX29iamVjdCwgMTYpKQogICAgICAgICAgICAgICAgc2NvcmVfY291bnQgPSByZWFkX2J5dGUoZmlsZV9vYmplY3QpCiAgICAgICAgICAgICAgICBwbGF5X2NvdW50ID0gcmVhZF91c2hvcnQoZmlsZV9vYmplY3QpCiAgICAgICAgICAgICAgICB1bmtub3duMSA9IHJlYWRfYnl0ZXMoZmlsZV9vYmplY3QsIDEpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHNjb3JlcyA9IFtdCiAgICAgICAgICAgICAgICBmb3IgaiBpbiByYW5nZShzY29yZV9jb3VudCk6CiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudCA9IHJlYWRfdXNob3J0KGZpbGVfb2JqZWN0KQogICAgICAgICAgICAgICAgICAgIHVua25vd24yID0gcmVhZF9ieXRlcyhmaWxlX29iamVjdCwgMSkKICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gcmVhZF9ieXRlKGZpbGVfb2JqZWN0KQogICAgICAgICAgICAgICAgICAgIGlzX2ZjID0gcmVhZF9ieXRlKGZpbGVfb2JqZWN0KQogICAgICAgICAgICAgICAgICAgIHNwZWVkID0gcmVhZF91c2hvcnQoZmlsZV9vYmplY3QpCiAgICAgICAgICAgICAgICAgICAgc3RhcnMgPSByZWFkX2J5dGUoZmlsZV9vYmplY3QpCiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gcmVhZF9ieXRlKGZpbGVfb2JqZWN0KQogICAgICAgICAgICAgICAgICAgIHVua25vd24zID0gcmVhZF9ieXRlcyhmaWxlX29iamVjdCwgMykKICAgICAgICAgICAgICAgICAgICBzY29yZSA9IHJlYWRfaW50KGZpbGVfb2JqZWN0KQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHNjb3Jlcy5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICAgICAnaW5zdHJ1bWVudCc6IGluc3RydW1lbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICd1bmtub3duMic6IHVua25vd24yLAogICAgICAgICAgICAgICAgICAgICAgICAncGVyY2VudCc6IHBlcmNlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICdpc19mYyc6IGlzX2ZjLAogICAgICAgICAgICAgICAgICAgICAgICAnc3BlZWQnOiBzcGVlZCwKICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXJzJzogc3RhcnMsCiAgICAgICAgICAgICAgICAgICAgICAgICdtb2RpZmllcnMnOiBtb2RpZmllcnMsCiAgICAgICAgICAgICAgICAgICAgICAgICd1bmtub3duMyc6IHVua25vd24zLAogICAgICAgICAgICAgICAgICAgICAgICAnc2NvcmUnOiBzY29yZQogICAgICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgc29uZ3NfaW5mby5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICdpZGVudGlmaWVyJzogaWRlbnRpZmllciwKICAgICAgICAgICAgICAgICAgICAnc2NvcmVfY291bnQnOiBzY29yZV9jb3VudCwKICAgICAgICAgICAgICAgICAgICAncGxheV9jb3VudCc6IHBsYXlfY291bnQsCiAgICAgICAgICAgICAgICAgICAgJ3Vua25vd24xJzogdW5rbm93bjEsCiAgICAgICAgICAgICAgICAgICAgJ3Njb3Jlcyc6IHNjb3JlcwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgZXhjZXB0IEVPRkVycm9yOgogICAgICAgICAgICAgICAgbG9nZ2luZy53YXJuaW5nKGYiUmVhY2hlZCBlbmQgb2YgZmlsZSB3aGlsZSBwYXJzaW5nIHNvbmcge2krMX0gb2Yge3NvbmdfY291bnR9IikKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yIGFzIGU6CiAgICAgICAgICAgICAgICBsb2dnaW5nLndhcm5pbmcoZiJFcnJvciBwYXJzaW5nIHNvbmcge2krMX0gb2Yge3NvbmdfY291bnR9OiB7c3RyKGUpfSIpCiAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAndmVyc2lvbic6IHZlcnNpb24sCiAgICAgICAgICAgICdzb25nX2NvdW50JzogbGVuKHNvbmdzX2luZm8pLAogICAgICAgICAgICAnc29uZ3MnOiBzb25nc19pbmZvCiAgICAgICAgfQogICAgZXhjZXB0IEVPRkVycm9yIGFzIGU6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVycm9yIHBhcnNpbmcgc2NvcmUgZGF0YToge3N0cihlKX0iKQogICAgZXhjZXB0IHN0cnVjdC5lcnJvciBhcyBlOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJFcnJvciB1bnBhY2tpbmcgZGF0YToge3N0cihlKX0iKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJVbmV4cGVjdGVkIGVycm9yIHBhcnNpbmcgc2NvcmUgZGF0YToge3N0cihlKX0iKQo=